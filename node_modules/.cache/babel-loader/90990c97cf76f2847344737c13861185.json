{"ast":null,"code":"var _jsxFileName = \"/home/user/Desktop/Course/WorldPenguins/src/App.js\";\nimport React, { Component } from 'react';\nimport Navbar from './components/Navbar';\nimport Footer from './components/Footer';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport Home from './components/Home';\nimport ListCards from './components/ListCards';\nimport Register from './components/Register';\nimport SignIN from './components/SignIn';\nimport Post from './components/Post';\nimport PostFacts from './components/PostFacts';\nimport Account from './components/Account';\nimport addViewPenguin from './components/addViewPenguin';\nimport axios from 'axios';\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: '',\n      isValidToken: false\n    };\n\n    this.getValidityToken = async () => {\n      // await axios.get(`http://localhost:5000/user/validity`, { params: { token: localStorage.getItem('token') } })\n      //   .then(res => {\n      //     console.log('RES',res)\n      //       if (!this.state.isValidToken) {\n      //         this.setState({ user: res.data });\n      //         console.log(this.state.user);\n      //         } \n      //        this.state.isValidToken || this.setState({ isValidToken: true });\n      //         })\n      //   .catch(err => {\n      //         !this.state.isValidToken || this.setState({ isValidToken: false });\n      //   })\n      try {\n        const _ref = await axios.get(\"http://localhost:5000/user/validity\", {\n          params: {\n            token: localStorage.getItem('token')\n          }\n        }),\n              data = _ref.data;\n\n        !this.state.isValidToken && this.setState({\n          user: data,\n          isValidToken: true\n        }); // this.state.isValidToken || this.setState({ isValidToken: true }); // 3 render\n      } catch (err) {\n        !this.state.isValidToken || this.setState({\n          isValidToken: false\n        });\n      }\n    };\n\n    this.deleteToken = () => {\n      localStorage.clear();\n    };\n\n    this.componentDidUpdate = () => {\n      this.getValidityToken();\n    };\n\n    this.componentDidMount = () => {\n      this.getValidityToken();\n    };\n  }\n\n  render() {\n    return React.createElement(BrowserRouter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      deleteToken: this.deleteToken,\n      user: this.state.user,\n      isValidToken: this.state.isValidToken,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }), React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      component: Home,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/listCards\",\n      component: ListCards,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/user/register\",\n      component: Register,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/user/sign\",\n      component: SignIN,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/user/account\",\n      render: props => React.createElement(Account, Object.assign({}, props, {\n        user: this.state.user,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/listCards/:post_id\",\n      component: Post,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/kinds/add\",\n      component: addViewPenguin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/facts/:post_id\",\n      component: PostFacts,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    })), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/user/Desktop/Course/WorldPenguins/src/App.js"],"names":["React","Component","Navbar","Footer","BrowserRouter","Route","Switch","Home","ListCards","Register","SignIN","Post","PostFacts","Account","addViewPenguin","axios","App","state","user","isValidToken","getValidityToken","get","params","token","localStorage","getItem","data","setState","err","deleteToken","clear","componentDidUpdate","componentDidMount","render","props"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Navbar from './components/Navbar'\r\nimport Footer from './components/Footer'\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom'\r\nimport Home from './components/Home'\r\nimport ListCards from './components/ListCards'\r\nimport Register from './components/Register'\r\nimport SignIN from './components/SignIn'\r\nimport Post from './components/Post'\r\nimport PostFacts  from './components/PostFacts'\r\nimport Account from './components/Account'\r\nimport addViewPenguin from './components/addViewPenguin'\r\nimport axios from 'axios';\r\n\r\n\r\n\r\nclass App extends Component {\r\n  state = {\r\n    user: '',\r\n    isValidToken: false\r\n  };\r\n  \r\n  getValidityToken = async () => {\r\n    \r\n  // await axios.get(`http://localhost:5000/user/validity`, { params: { token: localStorage.getItem('token') } })\r\n  //   .then(res => {\r\n  //     console.log('RES',res)\r\n  //       if (!this.state.isValidToken) {\r\n  //         this.setState({ user: res.data });\r\n  //         console.log(this.state.user);\r\n  //         } \r\n  //        this.state.isValidToken || this.setState({ isValidToken: true });\r\n  //         })\r\n  //   .catch(err => {\r\n  //         !this.state.isValidToken || this.setState({ isValidToken: false });\r\n  //   })\r\n\r\n    try {\r\n      const {data} = await axios.get(`http://localhost:5000/user/validity`, { params: { token: localStorage.getItem('token') } });\r\n      !this.state.isValidToken && this.setState({ user: data, isValidToken: true });\r\n      // this.state.isValidToken || this.setState({ isValidToken: true }); // 3 render\r\n      \r\n    } catch(err) {\r\n      !this.state.isValidToken || this.setState({ isValidToken: false });\r\n    }\r\n  }\r\n\r\n  deleteToken = () => {\r\n    localStorage.clear();\r\n  }\r\n\r\n  componentDidUpdate = () => {\r\n    this.getValidityToken();\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this.getValidityToken();\r\n  } \r\n  \r\n\r\n  render() {\r\n    return (\r\n      <BrowserRouter>\r\n        <div className=\"App\">\r\n          <Navbar deleteToken={this.deleteToken} user={this.state.user} isValidToken={this.state.isValidToken} />\r\n          <Switch >\r\n            <Route exact path=\"/\" component={Home} />\r\n            <Route exact path=\"/listCards\" component={ListCards} />\r\n            <Route exact path='/user/register' component={Register} />\r\n            <Route exact path=\"/user/sign\" component={SignIN}/>\r\n            <Route exact path=\"/user/account\" render={(props)=> <Account {...props} user={this.state.user}/> }/>\r\n            <Route exact path=\"/listCards/:post_id\" component={Post} />\r\n            <Route exact path=\"/kinds/add\" component={addViewPenguin}/>\r\n            <Route exact path=\"/facts/:post_id\" component={PostFacts}/>\r\n          </Switch>\r\n          <Footer />\r\n        </div>\r\n      </BrowserRouter>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}